---
name: PR Labels

on:
  pull_request:
    types: [opened, labeled, unlabeled, synchronize, reopened, edited]

jobs:
  pr_labels:
    name: 🏭 Verify labels
    runs-on: ubuntu-latest
    steps:
      - name: 🏷 Verify PR has a valid label
        uses: jesusvasquez333/verify-pr-label-action@657d111bbbe13e22bbd55870f1813c699bde1401 # v1.4.0
        with:
          github-token: '${{ secrets.GITHUB_TOKEN }}'
          valid-labels: >-
            breaking-change, bugfix, documentation, enhancement,
            refactor, performance, new-feature, maintenance, ci, dependencies, translations, changelog-ignore
          disable-reviews: false
  pr_wip_check:
    runs-on: ubuntu-latest
    name: 🏭 Check for blocking labels
    steps:
    - name: 🏷 Check PR for a merge-blocking label
      uses: tim-actions/wip-check@8c84f5987215d49440b86475062d61e4f099e1b7 # main branch
      with:
        labels: '["do-not-merge", "wip", "rfc", "blocked"]'
        keywords: '["WIP", "wip", "RFC", "rfc"]'
