import { {{#if isMutation}}getAuditedClient{{else}}prisma{{/if}} } from '@weareinreach/db'
import { handleError } from '~api/lib/errorHandler'
import { type TRPCHandlerParams } from '~api/types/handler'
{{#if createSchema}}
import { type T{{pascalCase name}}Schema } from './{{operation}}.{{name}}.schema'
{{/if}}

{{#if createSchema}}
const {{name}} = async ({ctx, input}: TRPCHandlerParams<T{{pascalCase name}}Schema{{#if isMutation}}, 'protected'{{/if}}>) => {
{{else}}
const {{name}} = async ({ctx}: TRPCHandlerParams<undefined>) => {
{{/if}}
	try {
		{{#if isMutation}}
		const prisma = getAuditedClient(ctx.actorId)
		{{/if}}


	} catch (error) {
		return handleError(error)
	}
}
export default {{name}}
