{
	"$schema": "https://turborepo.org/schema.json",
	"extends": ["//"],
	"pipeline": {
		"db:dataMigrate": {
			"dependsOn": ["download:seedData", "db:generate", "db:deploy"],
			"env": ["DATABASE_URL", "DB_DIRECT_URL"],
			"inputs": ["prisma/data-migrations/**/*.ts", "prisma/dataMigrationRunner.ts"]
		},
		"db:deploy": {
			"dependsOn": ["db:generate"],
			"env": ["DATABASE_URL", "DB_DIRECT_URL"],
			"inputs": ["prisma/migrations/**/*"]
		},
		"db:generate": {
			"cache": false,
			"env": ["DATABASE_URL", "DB_DIRECT_URL", "PRISMA_GENERATE_DATAPROXY"],
			"inputs": ["prisma/schema.prisma"]
		},
		"db:run-seed": {
			"cache": false,
			"dependsOn": ["download:seedData"]
		},
		"download:seedData": {
			"outputs": ["seed/data/downloaded/*.json"]
		},
		"generate:data": {
			"cache": false,
			"dependsOn": ["db:dataMigrate"],
			"env": ["DATABASE_URL", "DB_DIRECT_URL"],
			"outputs": ["./generated/**"]
		},
		"type-check": {}
	}
}
